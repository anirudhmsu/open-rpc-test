{
    "openrpc": "1.2.6",
    "info": {
      "title": "Local Calculator JSON-RPC",
      "version": "1.0.0",
      "description": "A simple JSON-RPC 2.0 calculator with arithmetic, statistics, and number-theory helpers."
    },
    "servers": [
      {
        "name": "Local",
        "url": "http://localhost:5000/rpc"
      }
    ],
    "methods": [
      {
        "name": "rpc.discover",
        "summary": "Returns this service's OpenRPC schema",
        "description": "Inspector tools call this to fetch the OpenRPC document.",
        "paramStructure": "by-position",
        "params": [],
        "result": {
          "name": "OpenRPC Schema",
          "schema": {
            "$ref": "https://meta.open-rpc.org/schema.json"
          }
        },
        "examples": [
          {
            "name": "Discover",
            "params": [],
            "result": {
              "openrpc": "1.2.6"
            }
          }
        ]
      },
  
      {
        "name": "calc_add",
        "summary": "Add numbers",
        "description": "Returns the sum of all provided numbers.",
        "tags": [{ "name": "Arithmetic" }],
        "paramStructure": "by-position",
        "params": [
          {
            "name": "numbers",
            "schema": { "$ref": "#/components/schemas/NumberArrayNonEmpty" }
          }
        ],
        "result": {
          "name": "sum",
          "schema": { "type": "number" }
        },
        "examples": [
          {
            "name": "2+3+4",
            "params": [[2, 3, 4]],
            "result": 9
          }
        ]
      },
  
      {
        "name": "calc_subtract",
        "summary": "Subtract b from a",
        "tags": [{ "name": "Arithmetic" }],
        "paramStructure": "by-position",
        "params": [
          { "name": "a", "schema": { "type": "number" } },
          { "name": "b", "schema": { "type": "number" } }
        ],
        "result": { "name": "difference", "schema": { "type": "number" } },
        "examples": [{ "name": "5-2", "params": [5, 2], "result": 3 }]
      },
  
      {
        "name": "calc_multiply",
        "summary": "Multiply numbers",
        "tags": [{ "name": "Arithmetic" }],
        "paramStructure": "by-position",
        "params": [
          {
            "name": "numbers",
            "schema": { "$ref": "#/components/schemas/NumberArrayNonEmpty" }
          }
        ],
        "result": { "name": "product", "schema": { "type": "number" } },
        "examples": [{ "name": "2*3*4", "params": [[2, 3, 4]], "result": 24 }]
      },
  
      {
        "name": "calc_divide",
        "summary": "Divide a by b",
        "tags": [{ "name": "Arithmetic" }],
        "paramStructure": "by-position",
        "params": [
          { "name": "a", "schema": { "type": "number" } },
          { "name": "b", "schema": { "type": "number" } }
        ],
        "result": { "name": "quotient", "schema": { "type": "number" } },
        "errors": [
          {
            "code": -32001,
            "message": "Division by zero",
            "data": { "type": "object", "properties": { "b": { "type": "number" } } }
          }
        ],
        "examples": [{ "name": "10/2", "params": [10, 2], "result": 5 }]
      },
  
      {
        "name": "calc_pow",
        "summary": "Power",
        "description": "Returns a^b.",
        "tags": [{ "name": "Arithmetic" }],
        "paramStructure": "by-position",
        "params": [
          { "name": "a", "schema": { "type": "number" } },
          { "name": "b", "schema": { "type": "number" } }
        ],
        "result": { "name": "power", "schema": { "type": "number" } },
        "examples": [{ "name": "2^8", "params": [2, 8], "result": 256 }]
      },
  
      {
        "name": "calc_sqrt",
        "summary": "Square root",
        "tags": [{ "name": "Arithmetic" }],
        "paramStructure": "by-position",
        "params": [{ "name": "x", "schema": { "type": "number" } }],
        "result": { "name": "root", "schema": { "type": "number" } },
        "errors": [
          {
            "code": -32002,
            "message": "Domain error: negative input",
            "data": { "type": "object", "properties": { "x": { "type": "number" } } }
          }
        ],
        "examples": [{ "name": "sqrt(9)", "params": [9], "result": 3 }]
      },
  
      {
        "name": "calc_mean",
        "summary": "Arithmetic mean",
        "tags": [{ "name": "Statistics" }],
        "paramStructure": "by-position",
        "params": [
          {
            "name": "numbers",
            "schema": { "$ref": "#/components/schemas/NumberArrayNonEmpty" }
          }
        ],
        "result": { "name": "mean", "schema": { "type": "number" } },
        "examples": [{ "name": "mean([1,2,3,4])", "params": [[1, 2, 3, 4]], "result": 2.5 }]
      },
  
      {
        "name": "calc_median",
        "summary": "Median",
        "tags": [{ "name": "Statistics" }],
        "paramStructure": "by-position",
        "params": [
          {
            "name": "numbers",
            "schema": { "$ref": "#/components/schemas/NumberArrayNonEmpty" }
          }
        ],
        "result": { "name": "median", "schema": { "type": "number" } },
        "examples": [{ "name": "median([1,3,2,4])", "params": [[1, 3, 2, 4]], "result": 2.5 }]
      },
  
      {
        "name": "calc_factorial",
        "summary": "Factorial",
        "tags": [{ "name": "Number Theory" }],
        "paramStructure": "by-position",
        "params": [{ "name": "n", "schema": { "$ref": "#/components/schemas/NonNegativeInteger" } }],
        "result": { "name": "factorial", "schema": { "type": "integer" } },
        "errors": [
          {
            "code": -32602,
            "message": "Invalid params: n must be a non-negative integer"
          }
        ],
        "examples": [{ "name": "5!", "params": [5], "result": 120 }]
      },
  
      {
        "name": "calc_gcd",
        "summary": "Greatest common divisor",
        "tags": [{ "name": "Number Theory" }],
        "paramStructure": "by-position",
        "params": [
          { "name": "a", "schema": { "type": "integer" } },
          { "name": "b", "schema": { "type": "integer" } }
        ],
        "result": { "name": "gcd", "schema": { "type": "integer" } },
        "examples": [{ "name": "gcd(48,18)", "params": [48, 18], "result": 6 }]
      },
  
      {
        "name": "calc_lcm",
        "summary": "Least common multiple",
        "tags": [{ "name": "Number Theory" }],
        "paramStructure": "by-position",
        "params": [
          { "name": "a", "schema": { "type": "integer" } },
          { "name": "b", "schema": { "type": "integer" } }
        ],
        "result": { "name": "lcm", "schema": { "type": "integer" } },
        "examples": [{ "name": "lcm(4,6)", "params": [4, 6], "result": 12 }]
      }
    ],
    "components": {
      "schemas": {
        "NumberArrayNonEmpty": {
          "type": "array",
          "minItems": 1,
          "items": { "type": "number" }
        },
        "NonNegativeInteger": {
          "type": "integer",
          "minimum": 0
        }
      }
    }
  }
  